<p-toast position="top-right" [life]="5000"></p-toast>

<div class="app">
  <div
    class="app-topbar flex items-center justify-between gap-2 pl-2 pr-4 py-2 border-b-1 border-surface-200"
  >
    <div class="flex items-center">
      <p-button
        icon="icon icon-menu"
        severity="secondary"
        [text]="true"
        size="large"
        (click)="toggleSidebar()"
      />
      <div class="font-semibold">Cozy DB</div>
    </div>
    <div class="flex gap-2 items-center">
      <p-button
        label="API Docs"
        severity="secondary"
        icon="icon icon-file-text"
        (click)="openAPIDocs()"
      />
      <p-button severity="secondary" (click)="toggleChatbot()">
        <i class="icon icon-sparkles" style="color: var(--p-primary-color)"></i>
      </p-button>
    </div>
  </div>
  <div
    class="app-main w-full h-full"
    [class.sidebar--opening]="sidebarVisible()"
    [class.chatbot--opening]="chatbotVisible()"
  >
    <div class="app-sidebar border-r-1 border-surface-200">
      <app-table-list />
    </div>
    <div class="w-full h-full">
      <app-table-detail />
    </div>
    <div class="app-chatbot border-l-1 border-surface-200" [class.fullscreen]="chatbotFullscreen()">
      <app-chatbot
        [visible]="chatbotVisible()"
        (fullscreen)="chatbotFullscreen.set($event)"
        (onClose)="chatbotVisible.set(false)"
      />
    </div>
  </div>
</div>
